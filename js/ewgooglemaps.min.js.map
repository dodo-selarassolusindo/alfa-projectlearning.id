{"version":3,"names":["this","ew","maps","exports","createBounds","google","LatLngBounds","createLatLng","latitude","longitude","LatLng","createMap","el","data","Map","Object","assign","mapOptions","zoom","center","latlng","mapTypeId","includes","type","MapTypeId","ROADMAP","createMarker","marker","Marker","markerOptions","position","map","icon","title","String","desc","description","trim","infoWindow","InfoWindow","content","event","addListener","open","useMarkerClusterer","markerClusterer","addMarker","useSingleMap","showAllMarkers","bounds","extend","createMarkerClusterer","MarkerClusterer","markers","markerClustererOptions","fitBounds","geocode","Promise","resolve","reject","Geocoder","address","results","status","GeocoderStatus","OK","geometry","location","googlemaps"],"sources":["js\\ewgooglemaps.js"],"sourcesContent":["/*!\n * Google Maps for PHPMaker v2024.7.0\n * Copyright (c) e.World Technology Limited. All rights reserved.\n */\nthis.ew = this.ew || {};\nthis.ew.maps = this.ew.maps || {};\n(function (exports) {\n  'use strict';\n\n  /**\r\n   * Default map options (see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions)\r\n   */\r\n  var mapOptions = {};\r\n\r\n  /**\r\n   * Default marker options (see https://developers.google.com/maps/documentation/javascript/reference/marker#MarkerOptions)\r\n   */\r\n  var markerOptions = {};\r\n\r\n  /**\r\n   * Default marker clusterer options (see https://github.com/googlemaps/js-markerclusterer/blob/main/src/markerclusterer.ts#L28)\r\n   */\r\n  var markerClustererOptions = {};\r\n\r\n  /**\r\n   * Send geocode requests\r\n   * @param {Object} data Map data\r\n   * @returns Promise\r\n   */\r\n  function geocode(data) {\r\n    return new Promise(function (resolve, reject) {\r\n      let geocoder = new google.maps.Geocoder();\r\n      geocoder.geocode({\r\n        address: data.address\r\n      }, (results, status) => {\r\n        if (status == google.maps.GeocoderStatus.OK) {\r\n          resolve(results[0].geometry.location);\r\n        } else {\r\n          // Geocoding not successful\r\n          reject(status);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create map\r\n   * @param {HTMLElement} el HTML element\r\n   * @param {Object} data Map data\r\n   */\r\n  function createMap(el, data) {\r\n    return new google.maps.Map(el, Object.assign({}, this.mapOptions, {\r\n      zoom: data.zoom || 10,\r\n      center: data.latlng,\r\n      mapTypeId: [\"SATELLITE\", \"HYBRID\", \"TERRAIN\"].includes(data.type) ? google.maps.MapTypeId[data.type] : google.maps.MapTypeId.ROADMAP\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Create LatLng object\r\n   * @param {number} latitude Latitude\r\n   * @param {number} longitude Longitude\r\n   */\r\n  function createLatLng(latitude, longitude) {\r\n    return new google.maps.LatLng(latitude, longitude);\r\n  }\r\n\r\n  /**\r\n   * Create marker\r\n   * @param {Object} data Map data\r\n   */\r\n  function createMarker(data) {\r\n    let marker = new google.maps.Marker(Object.assign({}, this.markerOptions, {\r\n      // Marker\r\n      position: data.latlng,\r\n      map: data.map,\r\n      icon: data.icon || null,\r\n      title: String(data.title || \"\")\r\n    }));\r\n    let desc = String(data.description || \"\").trim();\r\n    if (desc) {\r\n      // Info window\r\n      let infoWindow = new google.maps.InfoWindow({\r\n        content: desc\r\n      });\r\n      google.maps.event.addListener(marker, \"click\", () => {\r\n        infoWindow.open(data.map, marker);\r\n      });\r\n    }\r\n    if (data.useMarkerClusterer) data.markerClusterer.addMarker(marker);\r\n    if (data.useSingleMap && data.showAllMarkers) data.bounds.extend(data.latlng); // Extend bounds\r\n    return marker;\r\n  }\r\n\r\n  /**\r\n   * Create marker clusterer\r\n   * @param {Object} data Map data\r\n   */\r\n  function createMarkerClusterer(data) {\r\n    return new markerClusterer.MarkerClusterer(Object.assign({\r\n      map: data.map,\r\n      markers: []\r\n    }, this.markerClustererOptions));\r\n  }\r\n\r\n  /**\r\n   * Create bounds object\r\n   */\r\n  function createBounds() {\r\n    return new google.maps.LatLngBounds();\r\n  }\r\n\r\n  /**\r\n   * Fit bounds\r\n   * @param {Object} data Map data\r\n   */\r\n  function fitBounds(data) {\r\n    if (data.map && data.bounds) data.map.fitBounds(data.bounds);\r\n  }\n\n  exports.createBounds = createBounds;\n  exports.createLatLng = createLatLng;\n  exports.createMap = createMap;\n  exports.createMarker = createMarker;\n  exports.createMarkerClusterer = createMarkerClusterer;\n  exports.fitBounds = fitBounds;\n  exports.geocode = geocode;\n  exports.mapOptions = mapOptions;\n  exports.markerClustererOptions = markerClustererOptions;\n  exports.markerOptions = markerOptions;\n\n})(this.ew.maps.googlemaps = this.ew.maps.googlemaps || {});\n"],"mappings":";;;;AAIAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,KAAOF,KAAKC,GAAGC,MAAQ,CAAC,EAChC,SAAWC,GACT,aAiHAA,EAAQC,aAZR,WACE,OAAO,IAAIC,OAAOH,KAAKI,YACzB,EAWAH,EAAQI,aA1DR,SAAsBC,EAAUC,GAC9B,OAAO,IAAIJ,OAAOH,KAAKQ,OAAOF,EAAUC,EAC1C,EAyDAN,EAAQQ,UAxER,SAAmBC,EAAIC,GACrB,OAAO,IAAIR,OAAOH,KAAKY,IAAIF,EAAIG,OAAOC,OAAO,CAAC,EAAGhB,KAAKiB,WAAY,CAChEC,KAAML,EAAKK,MAAQ,GACnBC,OAAQN,EAAKO,OACbC,UAAW,CAAC,YAAa,SAAU,WAAWC,SAAST,EAAKU,MAAQlB,OAAOH,KAAKsB,UAAUX,EAAKU,MAAQlB,OAAOH,KAAKsB,UAAUC,UAEjI,EAmEAtB,EAAQuB,aApDR,SAAsBb,GACpB,IAAIc,EAAS,IAAItB,OAAOH,KAAK0B,OAAOb,OAAOC,OAAO,CAAC,EAAGhB,KAAK6B,cAAe,CAExEC,SAAUjB,EAAKO,OACfW,IAAKlB,EAAKkB,IACVC,KAAMnB,EAAKmB,MAAQ,KACnBC,MAAOC,OAAOrB,EAAKoB,OAAS,OAE1BE,EAAOD,OAAOrB,EAAKuB,aAAe,IAAIC,OAC1C,GAAIF,EAAM,CAER,IAAIG,EAAa,IAAIjC,OAAOH,KAAKqC,WAAW,CAC1CC,QAASL,IAEX9B,OAAOH,KAAKuC,MAAMC,YAAYf,EAAQ,SAAS,KAC7CW,EAAWK,KAAK9B,EAAKkB,IAAKJ,EAAO,GAErC,CAGA,OAFId,EAAK+B,oBAAoB/B,EAAKgC,gBAAgBC,UAAUnB,GACxDd,EAAKkC,cAAgBlC,EAAKmC,gBAAgBnC,EAAKoC,OAAOC,OAAOrC,EAAKO,QAC/DO,CACT,EAgCAxB,EAAQgD,sBA1BR,SAA+BtC,GAC7B,OAAO,IAAIgC,gBAAgBO,gBAAgBrC,OAAOC,OAAO,CACvDe,IAAKlB,EAAKkB,IACVsB,QAAS,IACRrD,KAAKsD,wBACV,EAsBAnD,EAAQoD,UATR,SAAmB1C,GACbA,EAAKkB,KAAOlB,EAAKoC,QAAQpC,EAAKkB,IAAIwB,UAAU1C,EAAKoC,OACvD,EAQA9C,EAAQqD,QAjGR,SAAiB3C,GACf,OAAO,IAAI4C,SAAQ,SAAUC,EAASC,IACrB,IAAItD,OAAOH,KAAK0D,UACtBJ,QAAQ,CACfK,QAAShD,EAAKgD,UACb,CAACC,EAASC,KACPA,GAAU1D,OAAOH,KAAK8D,eAAeC,GACvCP,EAAQI,EAAQ,GAAGI,SAASC,UAG5BR,EAAOI,EACT,GAEJ,GACF,EAoFA5D,EAAQc,WAnHS,CAAC,EAoHlBd,EAAQmD,uBA1GqB,CAAC,EA2G9BnD,EAAQ0B,cAhHY,CAAC,CAkHtB,CA7HD,CA6HG7B,KAAKC,GAAGC,KAAKkE,WAAapE,KAAKC,GAAGC,KAAKkE,YAAc,CAAC"}